{% extends "layout.html" %}

{% block title %}
    Portfolio
{% endblock %}

{% block main %}
    <div class="cash-display">
        <h5 class="fw-bold">CASH: {{ cash }}</h5>
    </div>
    <div>
        <h3 class="fw-bold mt-5">PORTFOLIO</h3>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th class="text-start">Symbol</th>
                <th class="text-start">Name</th>
                <th class="text-end">Shares</th>
                <th class="text-end">Price</th>
                <th class="text-end">TOTAL</th>
            </tr>
        </thead>
        <tbody>
            {% for i in range(length) %}
            <tr>
                <td class="text-start">{{ portfolio[i]["symbol"] }}</td>
                <td class="text-start">{{ portfolio[i]["name"] }}</td>
                <td class="text-end">{{ portfolio[i]["shares"] }}</td>
                <td class="text-end">{{ portfolio[i]["price"] }}</td>
                <td class="text-end">{{ portfolio[i]["total"] }}</td>
                <td class="text-end">
                    <form action="/sell" method="post">
                        <input name="symbol" type="hidden" value="{{ portfolio[i]["symbol"] }}">
                        <input name="shares" type="hidden" value="{{ portfolio[i]["shares"] }}">
                        <button class="btn btn-primary" type="submit">Sell All</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td class="border-0 fw-bold text-end" colspan="4">GRAND TOTAL</td>
                <td class="border-0 w-bold text-end">{{ grand_total}}</td>
            </tr>
        </tfoot>
    </table>
{% endblock %}